<!DOCTYPE html>
<html lang="pt">

<head>

    <link rel="stylesheet" type="text/css" href="./css/navBar.css">
    <link rel="stylesheet" type="text/css" href="./css/jogo.css">
    <link rel="stylesheet" type="text/css" href="./css/colorPicker.css">
    <link rel="stylesheet" type="text/css" href="./css/style.css">
    <link rel="stylesheet" type="text/css" href="./css/fontStyles.css">

    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta charset="UTF-8">

    <script type="text/javascript" src="assets/js/cookies.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script type="text/javascript" src="assets/js/rangeSliders.js"></script>
    <script type="text/javascript" src="assets/js/login.js"></script>

    <title>Jogo</title>
</head>

<body>
    <script>


        function changeColour() { //Tem que tar dentro da função para mudar tudo em tempo real
            var navbar = document.getElementsByClassName("navbar");
            var colorPickerValue = document.getElementById("colorPicker").value;
            var element = document.getElementById("multicolor5");
            var element2 = document.getElementById("multicolor6");
            //Mudar a cor de um elemento pseudo-elemento (n sei pk está lento mas até ficou fixe)
            var css = 'input[type="range"]::-webkit-slider-thumb {-webkit-appearance: none;background-color:' + colorPickerValue + ';width: 30px;height: 30px;border-radius: 50%;border: 2px solid white;cursor: pointer;transition: .3s ease-in-out;}​';
            var style = document.createElement('style');

            if (style.styleSheet) {
                style.styleSheet.cssText = css;
            } else {
                style.appendChild(document.createTextNode(css));
            }

            document.getElementsByTagName('head')[0].appendChild(style);

            navbar[0].style.backgroundColor = colorPickerValue;
            element.style.background = colorPickerValue;
            element2.style.background = colorPickerValue;

        }

        function setCookies() {
            var colorPicker = document.getElementById("colorPicker");
            Cookie.set("color", colorPicker.value, 365);
        }


    </script>
    <div class="container">
        <!--NAVBAR-->
        <nav class="navbar">
            <ul class="nav-links">
                <!-- Para o móvel -->
                <input type="checkbox" id="checkbox_toggle" />
                <label for="checkbox_toggle" class="hamburger">&#9776;</label>
                <!--Items-->
                <div class="menu">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="info.html">Info</a></li>
                    <!--  <li><a href="jogo.html">Jogo</a></li>-->
                    <li><a href="jogo.html">Jogo</a></li>
                    <li class="services">
                        <!-- DROPDOWN EXEMPLO -->
                        <p> Score</p>
                        <ul class="dropdown">
                            <li><a href="./score.html">Geral</a></li>
                            <li id="mustLogin"><a href="./scoreindivid.html">Individual</a></li>
                        </ul>
                    </li>
                    <li><a href="login.html">Login</a></li>
                    <li>
                        <div class="cp_wrapper">
                            <input type="color" id="colorPicker" oninput="changeColour()" onchange="setCookies()"
                                value="getDefaultColor()" style="width:100%;">
                        </div>
                    </li>
                </div>
            </ul>
        </nav>
        <!--FIM NAVBAR-->

        <br>
        <!--Center select div-->
        <div class="container" style="width: 10%;">

            <select id="select-css" class="custom-select">
                <option value="Easy">Fácil</option>
                <option value="Normal">Normal</option>
                <option value="Hard">Difícil</option>
                <option value="Custom">Custom</option>
            </select>
            <span class="focus"></span>
        </div>
        <br>

        <div class="SpaceAround" style="border-radius: 25px 25px 0 0;">
            <div class="RangeAndLabel">
                <div class="value" id="lbl1">8</div>
                <div class="RangeSlider">
                    <input id="slider1" type="range" min="1" max="30" step="1" value="8">
                </div>
            </div>

            <div class="RangeAndLabel">
                <div class="value" id="lbl2">8</div>
                <div class="RangeSlider">
                    <input id="slider2" type="range" min="1" max="24" step="1" value="8">

                </div>

            </div>

            <div class="RangeAndLabel">
                <div class="value" id="lbl3">10</div>
                <div class="RangeSlider">
                    <input id="slider3" type="range" min="1" max="20" step="1" value="10">

                </div>
            </div>
        </div>

        <div class="SpaceAround" style="border-radius: 0 0 25px 25px;">
            <!--Centered text div-->
            <div class="label">
                Altura do Campo
            </div>
            <div class="label">
                Largura do Campo
            </div>
            <div class="label">
                Número de Bombas (<span id="mineDensity">11.90%</span>)
            </div>

        </div>

        <br> <br>
        <div class="gameButtons" style="width: 20%;">
            <div class="button">
                <button id="multicolor5" class="button test" onclick="window.location.href='SPlayer.html'"> Single
                    Player</button>
            </div>
            <div class="button">
                <button id="multicolor6" class="button test" onclick="window.location.href='Mplayer.html'">Multi
                    Player</button>
            </div>

        </div>


    </div>
    <script type="module"> /*Isto é para carregar só no fim (tem que ser)*/
        var color = Cookie.get("color");

        var colorPicker = document.getElementById("colorPicker");
        var navbar = document.getElementsByClassName("navbar")[0];
        var element = document.getElementById("multicolor5"); //A palavra "regras"
        var element2 = document.getElementById("multicolor6"); //O botão para jogar
        navbar.style.backgroundColor = color;
        colorPicker.value = color;
        element.style.background = color;
        element2.style.background = color;

        //Mudar a cor de um elemento pseudo-elemento (para mudar o tempo de transição tá no fim)
        var css = 'input[type="range"]::-webkit-slider-thumb {-webkit-appearance: none;background-color:' + color + ';width: 30px;height: 30px;border-radius: 50%;border: 2px solid white;cursor: pointer;transition: .3s ease-in-out;}​';
        var style = document.createElement('style');

        if (style.styleSheet)
            style.styleSheet.cssText = css;
        else
            style.appendChild(document.createTextNode(css));


        document.getElementsByTagName('head')[0].appendChild(style);

    </script>
</body>

</html>